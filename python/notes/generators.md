# ğŸš€ Python ì œë„ˆë ˆì´í„°(Generator)ì™€ ì´í„°ë ˆì´í„°(Iterator)

Pythonì—ì„œ **ì´í„°ë ˆì´í„°(Iterator)** ì™€ **ì œë„ˆë ˆì´í„°(Generator)** ëŠ”  
í° ë°ì´í„°ë¥¼ íš¨ìœ¨ì ìœ¼ë¡œ ì²˜ë¦¬í•˜ê±°ë‚˜, ë©”ëª¨ë¦¬ë¥¼ ì ˆì•½í•˜ë©´ì„œ ë°˜ë³µ ê°€ëŠ¥í•œ ê°ì²´ë¥¼ ìƒì„±í•˜ëŠ” ë° ì‚¬ìš©ë©ë‹ˆë‹¤.

---

## 1ï¸âƒ£ ì´í„°ë ˆì´í„°(Iterator)ë€?

- **ì´í„°ë ˆì´í„°(Iterator)** ëŠ” **ë‹¤ìŒ ìš”ì†Œë¥¼ ê³„ì†í•´ì„œ ë°˜í™˜í•˜ëŠ” ê°ì²´**ì…ë‹ˆë‹¤.
- `for` ë£¨í”„ì—ì„œ ë°˜ë³µ ê°€ëŠ¥í•œ(iterable) ê°ì²´(`list`, `tuple`, `dict`, `set`, `string`)ë¥¼ ìˆœíšŒí•  ë•Œ ë‚´ë¶€ì ìœ¼ë¡œ ì‚¬ìš©ë¨.
- `iter()`ì™€ `next()` í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ì—¬ **ì§ì ‘ ìš”ì†Œë¥¼ ê°€ì ¸ì˜¬ ìˆ˜ ìˆìŒ**.

#### ì´í„°ë ˆì´í„° ë§Œë“¤ê¸° (`iter()`, `next()` ì‚¬ìš©)
```python
numbers = [1, 2, 3, 4, 5]
iterator = iter(numbers)  # ë¦¬ìŠ¤íŠ¸ë¥¼ ì´í„°ë ˆì´í„°ë¡œ ë³€í™˜

print(next(iterator))  # 1
print(next(iterator))  # 2
print(next(iterator))  # 3
```
âœ” `iter(ê°ì²´)` â†’ ì´í„°ë ˆì´í„° ê°ì²´ ë°˜í™˜  
âœ” `next(ì´í„°ë ˆì´í„°)` â†’ ë‹¤ìŒ ìš”ì†Œ ë°˜í™˜, ìš”ì†Œê°€ ì—†ìœ¼ë©´ `StopIteration` ì˜ˆì™¸ ë°œìƒ  

---

## 2ï¸âƒ£ ì´í„°ë ˆì´í„° í´ë˜ìŠ¤ ë§Œë“¤ê¸°

`__iter__()` ì™€ `__next__()` ë©”ì„œë“œë¥¼ êµ¬í˜„í•˜ë©´ **ì‚¬ìš©ì ì •ì˜ ì´í„°ë ˆì´í„°ë¥¼ ë§Œë“¤ ìˆ˜ ìˆìŒ**.

#### ì‚¬ìš©ì ì •ì˜ ì´í„°ë ˆì´í„° ì˜ˆì œ
```python
class Counter:
    def __init__(self, start, end):
        self.current = start
        self.end = end

    def __iter__(self):  # ì´í„°ë ˆì´í„° ê°ì²´ ë°˜í™˜
        return self

    def __next__(self):  # ë‹¤ìŒ ìš”ì†Œ ë°˜í™˜
        if self.current >= self.end:
            raise StopIteration
        value = self.current
        self.current += 1
        return value

counter = Counter(1, 5)

for num in counter:
    print(num)  # 1, 2, 3, 4
```
âœ” `__iter__()` â†’ ì´í„°ë ˆì´í„° ê°ì²´ë¥¼ ë°˜í™˜  
âœ” `__next__()` â†’ í˜„ì¬ ê°’ì„ ë°˜í™˜ í›„ ì¦ê°€, ë§ˆì§€ë§‰ ìš”ì†Œì—ì„œ `StopIteration` ì˜ˆì™¸ ë°œìƒ  

---

## 3ï¸âƒ£ ì œë„ˆë ˆì´í„°(Generator)ë€?

- **ì œë„ˆë ˆì´í„°(Generator)** ëŠ” **ì´í„°ë ˆì´í„°ë¥¼ ë” ì‰½ê²Œ ë§Œë“¤ ìˆ˜ ìˆëŠ” í•¨ìˆ˜**ì…ë‹ˆë‹¤.
- `yield` í‚¤ì›Œë“œë¥¼ ì‚¬ìš©í•˜ì—¬ **ê°’ì„ í•˜ë‚˜ì”© ë°˜í™˜**í•˜ë©´ì„œ ìƒíƒœë¥¼ ìœ ì§€.
- `return`ì„ ë§Œë‚˜ë©´ ì‹¤í–‰ì´ ì¢…ë£Œë¨.
- **ì œë„ˆë ˆì´í„°ëŠ” ì¼ë°˜ í•¨ìˆ˜ë³´ë‹¤ ë©”ëª¨ë¦¬ë¥¼ ì ˆì•½**í•  ìˆ˜ ìˆìŒ.

#### ê¸°ë³¸ì ì¸ ì œë„ˆë ˆì´í„° ì˜ˆì œ (`yield` ì‚¬ìš©)
```python
def my_generator():
    yield 1
    yield 2
    yield 3

gen = my_generator()
print(next(gen))  # 1
print(next(gen))  # 2
print(next(gen))  # 3
```
âœ” `yield`ëŠ” í•¨ìˆ˜ì˜ ì‹¤í–‰ì„ ë©ˆì¶”ê³  ê°’ì„ ë°˜í™˜, ë‹¤ìŒ í˜¸ì¶œ ì‹œ ë©ˆì¶˜ ê³³ë¶€í„° ì‹¤í–‰ë¨  
âœ” `next()`ë¥¼ í˜¸ì¶œí•˜ë©´ ë‹¤ìŒ `yield` ë¬¸ê¹Œì§€ ì‹¤í–‰ë¨  

---

## 4ï¸âƒ£ ì œë„ˆë ˆì´í„°ì™€ ì´í„°ë ˆì´í„° ë¹„êµ

| ë¹„êµ í•­ëª© | ì´í„°ë ˆì´í„°(Iterator) | ì œë„ˆë ˆì´í„°(Generator) |
|----------|------------------|------------------|
| êµ¬í˜„ ë°©ì‹ | `__iter__()`, `__next__()` ì§ì ‘ êµ¬í˜„ | `yield` ì‚¬ìš© |
| ìƒíƒœ ìœ ì§€ | ëª…ì‹œì ìœ¼ë¡œ ë³€ìˆ˜ ê´€ë¦¬ | ìë™ìœ¼ë¡œ ìƒíƒœ ìœ ì§€ |
| ë©”ëª¨ë¦¬ ì‚¬ìš© | ëª¨ë“  ìš”ì†Œë¥¼ ë©”ëª¨ë¦¬ì— ì €ì¥ | í•„ìš”í•  ë•Œë§ˆë‹¤ ìš”ì†Œ ìƒì„± (ë©”ëª¨ë¦¬ ì ˆì•½) |
| ì˜ˆì™¸ ì²˜ë¦¬ | `StopIteration` ì˜ˆì™¸ ë°œìƒ | `yield` ì‚¬ìš© ì‹œ ìë™ ì²˜ë¦¬ |

âœ” **ì œë„ˆë ˆì´í„°ëŠ” ìƒíƒœë¥¼ ìœ ì§€í•˜ë©´ì„œ ê°’ì„ ë°˜í™˜í•˜ë¯€ë¡œ ë©”ëª¨ë¦¬ íš¨ìœ¨ì **  

---

## 5ï¸âƒ£ ì œë„ˆë ˆì´í„° ì‹¤ì „ í™œìš© ì˜ˆì œ

### 1) í° ë°ì´í„° ì²˜ë¦¬ (ë©”ëª¨ë¦¬ ì ˆì•½)
```python
def large_numbers():
    num = 0
    while True:
        yield num
        num += 1

gen = large_numbers()

print(next(gen))  # 0
print(next(gen))  # 1
print(next(gen))  # 2
```
âœ” **ë¬´í•œ ë£¨í”„ì—ì„œ ë°ì´í„°ë¥¼ ìƒì„±í•˜ë©´ì„œë„ ë©”ëª¨ë¦¬ë¥¼ ë‚­ë¹„í•˜ì§€ ì•ŠìŒ**  

---

### 2) ì œë„ˆë ˆì´í„° í‘œí˜„ì‹ (Generator Expression)

ë¦¬ìŠ¤íŠ¸ ì»´í”„ë¦¬í—¨ì…˜ê³¼ ë¹„ìŠ·í•˜ì§€ë§Œ **ë©”ëª¨ë¦¬ë¥¼ ì ˆì•½**í•  ìˆ˜ ìˆìŒ.

```python
nums = (x * 2 for x in range(5))  # ì œë„ˆë ˆì´í„° í‘œí˜„ì‹
print(next(nums))  # 0
print(next(nums))  # 2
print(next(nums))  # 4
```
âœ” **ë¦¬ìŠ¤íŠ¸ `[]` ëŒ€ì‹  ê´„í˜¸ `()`ë¥¼ ì‚¬ìš©í•˜ë©´ ì œë„ˆë ˆì´í„° í‘œí˜„ì‹ì´ ë¨**  
âœ” `next()`ë¡œ ê°’ì„ í•˜ë‚˜ì”© ê°€ì ¸ì˜¬ ìˆ˜ ìˆìŒ  

---

### 3) íŒŒì¼ ì½ê¸° (í° íŒŒì¼ ì²˜ë¦¬)
```python
def read_large_file(file_path):
    with open(file_path, "r") as file:
        for line in file:
            yield line.strip()  # í•œ ì¤„ì”© ë°˜í™˜

for line in read_large_file("example.txt"):
    print(line)
```
âœ” íŒŒì¼ì„ í•œ ì¤„ì”© ì½ì–´ ë©”ëª¨ë¦¬ë¥¼ ì ˆì•½í•˜ë©´ì„œ ì²˜ë¦¬ ê°€ëŠ¥  

---

### 4) ì—¬ëŸ¬ ê°œì˜ ì œë„ˆë ˆì´í„° ë³‘ë ¬ ì‹¤í–‰ (`yield from`)
```python
def generator1():
    yield from range(3)

def generator2():
    yield from "ABC"

for value in generator1():
    print(value)  # 0, 1, 2

for value in generator2():
    print(value)  # A, B, C
```
âœ” `yield from`ì„ ì‚¬ìš©í•˜ë©´ **ë‹¤ë¥¸ ì´í„°ëŸ¬ë¸” ê°ì²´ë¥¼ ì‰½ê²Œ í¬í•¨ ê°€ëŠ¥**  

---

## 6ï¸âƒ£ `send()`, `throw()`, `close()` ë©”ì„œë“œ í™œìš©

### 1) `send()` - ì œë„ˆë ˆì´í„°ì— ê°’ ì „ë‹¬
```python
def custom_counter():
    count = 0
    while True:
        value = yield count
        if value:
            count = value
        else:
            count += 1

gen = custom_counter()
print(next(gen))  # 0
print(gen.send(10))  # 10 (ìƒˆë¡œìš´ ê°’ìœ¼ë¡œ ì„¤ì •)
print(next(gen))  # 11
```
âœ” `send(value)` â†’ **ì œë„ˆë ˆì´í„° ë‚´ë¶€ë¡œ ê°’ ì „ë‹¬ ê°€ëŠ¥**  

---

### 2) `throw()` - ì˜ˆì™¸ ë°œìƒ
```python
def test():
    try:
        yield 1
    except ValueError:
        yield "ì—ëŸ¬ ë°œìƒ!"
    yield 2

gen = test()
print(next(gen))  # 1
print(gen.throw(ValueError))  # "ì—ëŸ¬ ë°œìƒ!"
print(next(gen))  # 2
```
âœ” `throw(Exception)` â†’ **ì œë„ˆë ˆì´í„° ë‚´ë¶€ì—ì„œ ì˜ˆì™¸ ë°œìƒ ê°€ëŠ¥**  

---

### 3) `close()` - ì œë„ˆë ˆì´í„° ì¢…ë£Œ
```python
gen = custom_counter()
print(next(gen))  # 0
gen.close()  # ì œë„ˆë ˆì´í„° ì¢…ë£Œ
print(next(gen))  # ì˜ˆì™¸ ë°œìƒ (StopIteration)
```
âœ” `close()` â†’ **ì œë„ˆë ˆì´í„° ì‹¤í–‰ì„ ì¤‘ë‹¨í•˜ê³  ì¢…ë£Œ**  

---

## ğŸ¯ ì •ë¦¬

âœ” **ì´í„°ë ˆì´í„°(Iterator)** â†’ `__iter__()`, `__next__()` êµ¬í˜„ í•„ìš”  
âœ” **ì œë„ˆë ˆì´í„°(Generator)** â†’ `yield` ì‚¬ìš©í•˜ì—¬ ê°„í¸í•˜ê²Œ ì´í„°ë ˆì´í„° ìƒì„±  
âœ” **ë©”ëª¨ë¦¬ íš¨ìœ¨ì ** â†’ í•„ìš”í•  ë•Œë§Œ ë°ì´í„°ë¥¼ ìƒì„±í•˜ì—¬ ë©”ëª¨ë¦¬ ì ˆì•½  
âœ” **`yield from` ì‚¬ìš© ê°€ëŠ¥** â†’ ë‹¤ë¥¸ ì´í„°ëŸ¬ë¸” ê°ì²´ í¬í•¨ ê°€ëŠ¥  
âœ” **ì‹¤ì „ í™œìš©** â†’ **í° íŒŒì¼ ì½ê¸°, ë¬´í•œ ìˆ˜ì—´ ìƒì„±, ë°ì´í„° ìŠ¤íŠ¸ë¦¬ë° ë“±**  
