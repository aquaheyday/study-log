# π§­ μ‹μ¤ν… μ„¤κ³„ - λ μ΄νΈ λ¦¬λ―Έν… (Rate Limiting)

**λ μ΄νΈ λ¦¬λ―Έν…(Rate Limiting)** μ€ μΌμ • μ‹κ°„ λ™μ• ν—μ©λ μ”μ²­ μλ¥Ό μ ν•ν•μ—¬  
μ‹μ¤ν… μμ› λ³΄νΈ, μ•…μ„± νΈλν”½ λ°©μ§€, κ³µμ •ν• μ„λΉ„μ¤ μ κ³µ λ“±μ„ μ„ν•΄ μ‚¬μ©ν•λ” **νΈλν”½ μ μ–΄ κΈ°μ **μ…λ‹λ‹¤.

---

## 1οΈβƒ£ λ μ΄νΈ λ¦¬λ―Έν…μ΄λ€?

| ν•­λ©     | μ„¤λ… |
|----------|------|
| **μ •μ** | ν΄λΌμ΄μ–ΈνΈκ°€ λ‹¨μ„ μ‹κ°„ λ‚΄μ— λ³΄λ‚Ό μ μλ” μ”μ²­ νμλ¥Ό μ ν•ν•λ” κΈ°μ  |
| **λ©μ ** | - μ‹μ¤ν… κ³Όλ¶€ν• λ°©μ§€<br>- μ„λΉ„μ¤ ν’μ§ μ μ§€<br>- μ•…μ„± μ‚¬μ©μ μ μ–΄<br>- κ³µμ •ν• λ¦¬μ†μ¤ λ¶„λ°° |
| **μ‚¬μ© μ„μΉ** | API Gateway, Load Balancer, Web Server, NGINX, ν”„λ΅μ‹, ν΄λΌμ΄μ–ΈνΈ μ•± λ“± |

---

## 2οΈβƒ£ μ£Όμ” μ μ© λ°©μ‹

| λ°©μ‹              | μ„¤λ… |
|-------------------|------|
| **IP κΈ°λ° μ ν•**      | ν΄λΌμ΄μ–ΈνΈ IP μ£Όμ† λ‹¨μ„λ΅ μ”μ²­ μ μ ν• |
| **API Key κΈ°λ° μ ν•** | μ‚¬μ©μλ³„/μ•±λ³„ μΈμ¦ν‚¤ λ‹¨μ„ μ ν• |
| **μ—”λ“ν¬μΈνΈ κΈ°λ° μ ν•** | μ”μ²­ URL λ‹¨μ„λ΅ λ‹¤λ¥΄κ² μ ν• κ°€λ¥ |
| **μ‚¬μ©μ λ“±κΈ‰ κΈ°λ° μ ν•** | μ λ£/λ¬΄λ£ μ‚¬μ©μμ— λ”°λΌ μ ν• μ†λ„ λ‹¤λ¥΄κ² μ„¤μ • |

---

## 3οΈβƒ£ μ£Όμ” μ•κ³ λ¦¬μ¦

| μ•κ³ λ¦¬μ¦             | μ„¤λ… |
|----------------------|------|
| **Fixed Window**     | μΌμ • μ‹κ°„ κµ¬κ°„ λ‚΄ μ”μ²­ μ μ²΄ν¬ (μ: λ§¤ 1λ¶„λ§λ‹¤ 100κ°) |
| **Sliding Window**   | μ”μ²­ κ°„κ²©μ„ μ‹κ°„ λ‹¨μ„λ΅ λ°€λ©΄μ„ μ²΄ν¬ β†’ λ” μ •ν™•ν• μ μ–΄ |
| **Token Bucket**     | λ²„ν‚·μ— ν† ν°μ„ μ£ΌκΈ°μ μΌλ΅ μ±„μ°κ³ , μ”μ²­λ§λ‹¤ ν•λ‚μ”© μ†λ¨ (Burst κ°€λ¥) |
| **Leaky Bucket**     | μΌμ • μ†λ„λ΅λ§ μ”μ²­μ„ μ²λ¦¬ β†’ νΈλν”½ ν‰μ¤€ν™” ν¨κ³Ό |

---

### π“ μ•κ³ λ¦¬μ¦ λΉ„κµ

| ν•­λ©           | Fixed Window | Sliding Window | Token Bucket | Leaky Bucket |
|----------------|--------------|----------------|---------------|---------------|
| μ„¤μ • κ°„λ‹¨ν•¨      | β…           | β             | β…            | β…            |
| λ¶€λ“λ¬μ΄ νλ¦„ μ μ–΄ | β           | β…             | β…            | β…            |
| λ²„μ¤νΈ μ²λ¦¬ κ°€λ¥  | β           | β             | β…            | β            |
| μ •λ°€ μ μ–΄        | β           | β…             | β…            | β…            |

---

## 4οΈβƒ£ μ‹¤μ „ μ μ© μμ‹

| μ‹μ¤ν…          | μ μ© λ°©μ‹ |
|-----------------|-----------|
| **NGINX**        | `limit_req` λ¨λ“λ΅ IPλ³„ μ”μ²­ μ μ ν• |
| **API Gateway**  | μ‚¬μ©μ/API Key κΈ°λ° λ μ΄νΈ λ¦¬λ―Έν… μ •μ±… μ„¤μ • |
| **Cloudflare**   | IP, κµ­κ°€, URL ν¨ν„΄ λ‹¨μ„λ΅ μ†λ„ μ ν• |
| **GitHub API**   | ν† ν° κΈ°μ¤€μΌλ΅ μ΄λ‹Ή/λ¶„λ‹Ή μ”μ²­ μ μ ν• |
| **Kubernetes Ingress** | μ• λ“μ¨ λλ” μ„λΉ„μ¤ λ©”μ‹λ΅ μ ν• μ„¤μ • κ°€λ¥ |

---

## 5οΈβƒ£ μ£Όμμ‚¬ν•­ λ° ν

- **Rate Limit μ΄κ³Ό μ‹ μ‘λ‹µ μ½”λ“**: λ³΄ν†µ `429 Too Many Requests` μ‚¬μ©
- **μ‚¬μ©μ μ•λ¦Ό**: ν—¤λ”μ— `X-RateLimit-Limit`, `X-RateLimit-Remaining` λ“±μΌλ΅ μ•λ‚΄
- **Redis ν™μ©**: μ¤‘μ•™ν™”λ μΉ΄μ΄ν„° μ €μ¥μ†λ΅ λΉ λ¥΄κ³  ν™•μ¥ κ°€λ¥ν• μ μ–΄ κ°€λ¥
- **μ§€μ†μ  μ”μ²­ μ΄κ³Ό μ‹ μ°¨λ‹¨**: μΌμ • μ‹κ°„ λΈ”λ΅ν•κ±°λ‚, CAPTCHA μ λ„

---

## π― μ •λ¦¬ μ”μ•½

β” **λ μ΄νΈ λ¦¬λ―Έν…**μ€ μ‹μ¤ν… λ³΄νΈμ™€ κ³µμ •ν• μ‚¬μ©μ„ μ„ν• **μ”μ²­ μ†λ„ μ ν• κΈ°μ **  
β” IP, μ‚¬μ©μ, API Key λ“± λ‹¤μ–‘ν• κΈ°μ¤€μΌλ΅ μ μ© κ°€λ¥  
β” **Token Bucket**κ³Ό **Sliding Window** λ°©μ‹μ΄ μ‹¤μ „μ—μ„ λ„λ¦¬ μ‚¬μ©λ¨  
β” **429 μ‘λ‹µ μ½”λ“ + μ•λ‚΄ ν—¤λ”**λ΅ μ‚¬μ©μμ—κ² μ ν• μƒν™© μ „λ‹¬  
β” Redis, NGINX, API Gateway λ“± λ‹¤μ–‘ν• λ λ²¨μ—μ„ κµ¬ν„ κ°€λ¥

