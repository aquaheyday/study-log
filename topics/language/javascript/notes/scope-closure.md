# ğŸ“¦ JavaScript - ìŠ¤ì½”í”„ & í´ë¡œì €

JavaScriptì—ì„œ **ìŠ¤ì½”í”„(Scope)** ëŠ” ë³€ìˆ˜ì˜ **ìœ íš¨ ë²”ìœ„**ë¥¼ ì˜ë¯¸í•˜ë©°, **í´ë¡œì €(Closure)** ëŠ” **ìŠ¤ì½”í”„ë¥¼ ê¸°ì–µí•˜ëŠ” í•¨ìˆ˜**ì…ë‹ˆë‹¤.

---

## 1ï¸âƒ£ ìŠ¤ì½”í”„(Scope)ë€?

ë³€ìˆ˜ë‚˜ í•¨ìˆ˜ê°€ **ì ‘ê·¼ ê°€ëŠ¥í•œ ë²”ìœ„**ë¥¼ ì˜ë¯¸í•©ë‹ˆë‹¤.

- **ì „ì—­ ìŠ¤ì½”í”„(Global Scope)**: ì–´ë””ì„œë“  ì ‘ê·¼ ê°€ëŠ¥  
- **ì§€ì—­ ìŠ¤ì½”í”„(Local Scope)**: íŠ¹ì • ë¸”ë¡ ë‚´ì—ì„œë§Œ ì ‘ê·¼ ê°€ëŠ¥

```js
let globalVar = "I'm global!";

function testScope() {
  let localVar = "I'm local!";
  console.log(globalVar); // âœ… ê°€ëŠ¥
  console.log(localVar);  // âœ… ê°€ëŠ¥
}

console.log(globalVar); // âœ… ê°€ëŠ¥
console.log(localVar);  // âŒ ì—ëŸ¬
```

---

## 2ï¸âƒ£ ìŠ¤ì½”í”„ ì¢…ë¥˜

### 1) í•¨ìˆ˜ ìŠ¤ì½”í”„(Function Scope)

- `var`ëŠ” í•¨ìˆ˜ ë‹¨ìœ„ë¡œ ìŠ¤ì½”í”„ê°€ ìƒì„±ë¨

```js
function funcScope() {
  var x = 10;
}
console.log(x); // âŒ ì—ëŸ¬
```

### 2) ë¸”ë¡ ìŠ¤ì½”í”„(Block Scope, ES6)

- `let`, `const`ëŠ” ë¸”ë¡({}) ë‹¨ìœ„ë¡œ ìŠ¤ì½”í”„ê°€ ìƒì„±ë¨

```js
{
  let y = 20;
  const z = 30;
}
console.log(y); // âŒ ì—ëŸ¬
console.log(z); // âŒ ì—ëŸ¬
```

---

## 3ï¸âƒ£ ë ‰ì‹œì»¬ ìŠ¤ì½”í”„ (Lexical Scope)

- í•¨ìˆ˜ê°€ **ì–´ë””ì„œ í˜¸ì¶œë˜ì—ˆëŠ”ì§€**ê°€ ì•„ë‹ˆë¼, **ì–´ë””ì„œ ì •ì˜ë˜ì—ˆëŠ”ì§€**ì— ë”°ë¼ ìŠ¤ì½”í”„ê°€ ê²°ì •ë¨

```js
const a = 1;

function outer() {
  const b = 2;
  
  function inner() {
    console.log(a); // 1
    console.log(b); // 2
  }

  inner();
}

outer();
```

---

## 4ï¸âƒ£ í´ë¡œì €(Closure)ë€?

í•¨ìˆ˜ê°€ **ìì‹ ì´ ì„ ì–¸ë  ë‹¹ì‹œì˜ ì™¸ë¶€ ìŠ¤ì½”í”„ë¥¼ ê¸°ì–µ**í•˜ëŠ” ê²ƒ

- í•¨ìˆ˜ê°€ ì™¸ë¶€ ë³€ìˆ˜ì— ì ‘ê·¼í•  ìˆ˜ ìˆë„ë¡ í•´ì¤Œ  
- **ìƒíƒœ ìœ ì§€**ì— ìœ ë¦¬ (ì˜ˆ: ì¹´ìš´í„°)

```js
function makeCounter() {
  let count = 0;

  return function() {
    count++;
    return count;
  };
}

const counter = makeCounter();

console.log(counter()); // 1
console.log(counter()); // 2
```

---

## 5ï¸âƒ£ í´ë¡œì € í™œìš© ì˜ˆì‹œ

### 1) ë°ì´í„° ì€ë‹‰

```js
function secretHolder(secret) {
  return {
    getSecret: function() {
      return secret;
    }
  };
}

const holder = secretHolder("ğŸ”’ Classified");
console.log(holder.getSecret()); // ğŸ”’ Classified
```

### 2) ì½œë°±ê³¼ í´ë¡œì €

```js
function delayedGreeting(name) {
  setTimeout(function() {
    console.log(`Hello, ${name}`);
  }, 1000);
}

delayedGreeting("Alice");
```

---

## âš ï¸ ì£¼ì˜: í´ë¡œì €ì™€ ë°˜ë³µë¬¸

```js
for (var i = 0; i < 3; i++) {
  setTimeout(function() {
    console.log(i); // 3, 3, 3
  }, 1000);
}
```
- varëŠ” í•¨ìˆ˜ ìŠ¤ì½”í”„ â†’ ë¸”ë¡(ì¤‘ê´„í˜¸ {})ë§ˆë‹¤ ìƒˆë¡œ ë§Œë“¤ì–´ì§€ì§€ ì•ŠìŒ
- ì¦‰, ë£¨í”„ ì•ˆì—ì„œ ë§Œë“¤ì–´ì§€ëŠ” ëª¨ë“  ì½œë°± í•¨ìˆ˜(setTimeout) ëŠ” ë™ì¼í•œ ië¥¼ ì°¸ì¡°í•¨
- setTimeout ì•ˆì˜ í•¨ìˆ˜ëŠ” ë‚˜ì¤‘ì— ì‹¤í–‰ë˜ê¸° ë•Œë¬¸ì—, forë¬¸ì€ ì´ë¯¸ ëë‚œ í›„ (i === 3) ìƒíƒœì—ì„œ ì‹¤í–‰ë¨

```js
// í•´ê²° ë°©ë²•: let ì‚¬ìš©
for (let i = 0; i < 3; i++) {
  setTimeout(function() {
    console.log(i); // 0, 1, 2
  }, 1000);
}
```
- letì€ ë¸”ë¡ ìŠ¤ì½”í”„
- for ë£¨í”„ê°€ ëŒ ë•Œë§ˆë‹¤ iëŠ” ìƒˆë¡œìš´ ë³€ìˆ˜ë¡œ ìƒì„±ë¨ (ê° ë°˜ë³µë§ˆë‹¤ ìƒˆë¡œìš´ ìŠ¤ì½”í”„)
- setTimeout ì•ˆì˜ ì½œë°±ì€ ê°ê¸° ë‹¤ë¥¸ ië¥¼ í´ë¡œì €ë¡œ ìº¡ì²˜

âœ” ìœ„ì— ë‚´ìš©ì„ ë´¤ì„ë•Œ, `let` ë³´ë‹¤ `var` ê°€ ì„±ëŠ¥ì ìœ¼ë¡  ì¢‹ì•„ë³´ì´ë‚˜, js ì—”ì§„ì´ `let` ì— ìµœì í™”ê°€ ì˜ë˜ì–´ìˆì–´ ì°¨ì´ê°€ ì—†ê±°ë‚˜ `let`ì´ ë›°ì–´ë‚  ë•Œë„ ìˆë‹¤.

---

## ğŸ¯ ì •ë¦¬

âœ” ìŠ¤ì½”í”„ëŠ” **ë³€ìˆ˜ì˜ ì ‘ê·¼ ë²”ìœ„**ë¥¼ ê²°ì •  
âœ” `var`ëŠ” í•¨ìˆ˜ ìŠ¤ì½”í”„, `let`ê³¼ `const`ëŠ” ë¸”ë¡ ìŠ¤ì½”í”„  
âœ” ìë°”ìŠ¤í¬ë¦½íŠ¸ëŠ” **ë ‰ì‹œì»¬ ìŠ¤ì½”í”„** ê¸°ë°˜  
âœ” í´ë¡œì €ëŠ” í•¨ìˆ˜ê°€ **ì™¸ë¶€ ë³€ìˆ˜ì— ì ‘ê·¼**í•  ìˆ˜ ìˆê²Œ í•¨  
âœ” í´ë¡œì €ëŠ” **ë°ì´í„° ë³´í˜¸**, **ìƒíƒœ ìœ ì§€**ì— ìœ ìš©  
